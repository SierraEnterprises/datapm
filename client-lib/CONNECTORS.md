# Creating DataPM Connectors

This guide describes DataPM Connectors, and how to create them.

## Quick Start

The code for a connectors is located in the `client-lib/src/connectors` directory. There you can find many example connectors for reference.

## Job Context

You will notice the presence of "JobContext" the connector code. It is important to note that Connectors are used not only by the command line client, but also by the DataPM server. And may be used in other contexts in the future. The JobContext is how you should print messages, prompt the user for input, and so on.

## Descriptor Class Pattern

In DataPM, Description classes are used to ensure that heavy dependency loading is delayed until it is needed. Description classes should contain only basic information and simple logic - and should not import any heavy dependencies.

## Connectors

In DataPM parlance, a class that implements the [ConnectorDescription](src/connector/Connector.ts) interface is the top level object for a connector implementation. This class describes the basics and where to find the descriptions and implementations of the Source and/or Sink.

ConnectorDescription also defines where to find the implementation of the [Connector](src/connector/Connector.ts) class. A class that implements the Connector interface defines how to connect and authenticate to a Repository - and this logic is used by both the Source and Sink implementations.

## Sources

Sources are responsible for producing one or more StreamSets. Each StreamSet contains one or more Streams. Each stream produces zero or more Records. Each Record is assigned to one and only one [Schema](#schemas).

StreamSets may produce a list of Streams, or a may use a "moveToNextStream()" iterator pattern to produce Streams. An example of a StreamSet is a set of files in a single data set, or a partitioned set of tables in a database.

## Schemas

A Schema defines the properties and value types of a record. Each property has one or more value types (number, string, boolean, etc).

Schemas are generated by DataPM automatically during the "inspection" phase of the Package job.

## Sinks

A Sink is responsible for writing a single stream of records - all for a single schema.
