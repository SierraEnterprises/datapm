<div class="container">
    <div class="row">
        <div class="col-lg-9 col-md-12 col-sm-12" id="followingTab">
            <div class="row big-div-following mb-3">
                <div class="col-md-12 col-lg-12 following-div">
                    <div class="h1-title">All activity</div>
                </div>
                <div class="col-md-12 col-lg-12 pb-3" *ngFor="let log of logs">
                    <div class="d-flex flex-row bd-highlight up-header mb-1">
                        <div class="px-2 bd-highlight">
                            <span class="cursor-pointer">
                                <app-avatar [user]="log.author" [routerLink]="'/' + log.author.username" [size]="30">
                                </app-avatar>
                                <span class="person-card-name">{{ log.authorFullName }} </span>
                            </span>
                            {{ log.changeTypeLabel }}
                            <span *ngIf="log.changedEntityInformation.affectedEntityInformation">
                                {{ log.changedEntityInformation.affectedEntityInformation.type }}
                                <span
                                    [routerLink]="log.changedEntityInformation.affectedEntityInformation.url"
                                    class="sentence-link"
                                    >{{ log.changedEntityInformation.affectedEntityInformation.name }}</span
                                ></span
                            >
                            {{ log.entitiesBinderLabel }}
                            {{ log.changedEntityInformation.type }}
                            <span [routerLink]="log.changedEntityInformation.url" class="sentence-link">{{
                                log.changedEntityInformation.name
                            }}</span>
                            {{ log.timeAgoLabel }}.
                        </div>
                    </div>
                </div>

                <div class="col-md-12 col-lg-12 pb-3" *ngIf="loadingLogs">
                    <mat-spinner diameter="25"></mat-spinner>
                </div>

                <div *ngIf="hasMore" class="container text-center">
                    <button
                        class="app-outlined-button ctaButton"
                        [class.disabled]="loadingLogs"
                        (click)="loadMoreLogs()"
                    >
                        Load More
                    </button>
                </div>
                <div>
                    <span *ngIf="errorLoadingLogs"> An error occurred when trying to load updates. </span>
                </div>
            </div>
        </div>
    </div>
</div>
